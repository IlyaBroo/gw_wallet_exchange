# Currency Wallet and Exchange Services

## Описание

Данный проект представляет собой два микросервиса: 
- **gw-currency-wallet**: сервис для управления кошельком и обменом валют.
- **gw-exchanger**: сервис для получения актуальных курсов валют.

Сервисы взаимодействуют друг с другом с помощью gRPC и используют PostgreSQL в качестве базы данных.

### Необходимые зависимости

- Go (1.16 или выше)
- PostgreSQL

### Клонирование репозитория

```bash
git clone https://github.com/IlyaBroo/gw_wallet_exchange
cd gw-currency-wallet
```

### Настройка переменных окружения

Перед запуском контейнеров убедитесь, что у вас есть файл .env в корне проекта с необходимыми переменными окружения. Пример содержимого .env:

### Запуск приложения

Для развертывания микросервисов с помощью Docker Compose выполните следующую команду в корне проекта:

```bash
docker-compose up --build
```
Эта команда создаст и запустит все сервисы, указанные в docker-compose.yml, включая базы данных и микросервисы.

### Описание сервисов

 - **db**: Контейнер с PostgreSQL для сервиса gw-currency-wallet.
 - **db2**: Контейнер с PostgreSQL для сервиса gw-exchanger.
 - **app**: Контейнер для сервиса gw-currency-wallet.
 - **app2**: Контейнер для сервиса gw-exchanger.
 - **migrate**: Контейнер для миграции базы данных для gw-currency-wallet.
 - **migrate2**: Контейнер для миграции базы данных для gw-exchanger.

### Миграции базы данных

Для выполнения миграций базы данных используйте следующие команды:

```bash
docker-compose run migrate
docker-compose run migrate2
```

### Остановка приложения

Чтобы остановить запущенные контейнеры, используйте:

```bash
docker-compose down
```

### Документация

Документация для API доступна в формате Swagger и находится в папке docs. Вы можете получить доступ к ней через:

```bash
http://localhost:<APP_PORT>/swagger/doc.json
Замените <APP_PORT> на порт, указанный в вашем .env файле.
```


